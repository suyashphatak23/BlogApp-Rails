<%# Navbar %>
<nav
	class="navbar navbar-expand-lg bg-body-tertiary bg-dark"
	data-bs-theme="dark"
>
	<div class="container">
		<%= link_to "RAILS BLOG", root_path, class: "navbar-brand", id: "logo" %>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
				<li class="nav-item">
					<%= link_to "Home", root_path, class: "nav-link" %>
				</li>
				<li class="nav-item">
					<%= link_to "About", about_path, class: "nav-link" %>
				</li>
				<li class="nav-item">
					<%= link_to "Bloggers", users_path, class: "nav-link" %>
				</li>
				<li class="nav-item dropdown">
					<a
						class="nav-link dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
					>
						Articles
					</a>
					<ul class="dropdown-menu">
						<% if logged_in? %>
						<%= link_to "Create new article", new_article_path, class:
						"dropdown-item" %> 
						<% end %>
						<%= link_to "View articles", articles_path,
						class: "dropdown-item" %>
						<li><hr class="dropdown-divider" /></li>
						<li>
							<a class="dropdown-item" href="#">Something else here</a>
						</li>
					</ul>
				</li>
				
				<li class="nav-item dropdown">
					<a
						class="nav-link dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
					>
					  Categories
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown">
					  <% if logged_in? && current_user.admin? %>
						<%= link_to "Create new category", new_category_path, class: "dropdown-item" %>
					  <% end %>  
					  <%= link_to "View categories", categories_path, class: "dropdown-item" %>
					</div>
				</li>

				<% if logged_in? %>

				<li class="nav-item dropdown">
					<a
						class="nav-link dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
					>
						<%= "(Admin)" if current_user.admin? %> Profile (<%= current_user.username %>)
					</a>
					<ul class="dropdown-menu">
						<%= link_to "View Your Profile", user_path(current_user), class:
						"dropdown-item" %> 
						<%= link_to "Edit Your Profile", edit_user_path(current_user),
						class: "dropdown-item" %>
						<%= link_to "Delete profile", user_path(current_user), class: "dropdown-item text-danger", method: :delete, data: { confirm: "Are you sure?" } %> 
					</ul>
				</li>
				<li class="nav-item">
					<%= link_to 'Logout', logout_path, class: "nav-link", method: :delete
					%>
				</li>
				<% else %>
				<li class="nav-item">
					<%= link_to 'Log In', login_path, class: "nav-link" %>
				</li>
				<li class="nav-item">
					<%= link_to 'Sign Up', signup_path, class: "nav-link" %>
				</li>
				<% end %>
			</ul>
		</div>
	</div>
</nav>
